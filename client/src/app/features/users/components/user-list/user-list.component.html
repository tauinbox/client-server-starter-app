<div class="user-list-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>User Management</mat-card-title>
      <div class="spacer"></div>
      <button
        mat-mini-fab
        color="primary"
        routerLink="/users/search"
        matTooltip="Search Users"
      >
        <mat-icon>search</mat-icon>
      </button>
    </mat-card-header>

    <mat-card-content>
      @if (loading()) {
        <div class="loading-container">
          <mat-spinner></mat-spinner>
        </div>
      } @else if (totalUsers() === 0) {
        <div class="empty-state">
          <mat-icon class="empty-icon">people_outline</mat-icon>
          <h3>No Users Found</h3>
          <p>There are no users in the system yet.</p>
        </div>
      } @else {
        <app-user-table
          [users]="displayedUsers()"
          [totalItems]="totalUsers()"
          [currentPage]="currentPage()"
          [pageSize]="pageSize()"
          (pageChange)="handlePageEvent($event)"
          (sortChange)="sortData($event)"
          (deleteUser)="confirmDelete($event)"
        />
      }
    </mat-card-content>
  </mat-card>
</div>
